########################################################################
#                                                                      #
# DO NOT EDIT THIS FILE, ALL EDITS SHOULD BE DONE IN THE GIT REPO,     #
# PUSHED TO GITHUB AND PULLED HERE.                                    #
#                                                                      #
# LOCAL EDITS WILL BE OVERWRITTEN.                                     #
#                                                                      #
########################################################################

{
  time.timeZone = "Europe/Brussels";

  settings = {
    boot.mode = "uefi";
    reverse_tunnel.enable = true;
#    crypto.mounts = {
#     "es_proxy" = {
#
#     };
#    };
    vmware = {
      enable = true;
      inDMZ = true;
    };
    network = {
      host_name = "diggr-nfs";
      static_ifaces.ens192 = {
        address = "192.168.50.244";
        prefix_length = 24;
        gateway = "192.168.50.1";
        fallback = false;
      };
    };
  };

  services.nfs.server.enable = true;
  services.nfs.server.exports = "
    /etc  192.168.50.0/24(rw,nohide,insecure,no_subtree_check)
  ";
  services.nfs.server.statdPort = 4000;
  services.nfs.server.lockdPort = 4001;
  networking.firewall.allowedTCPPorts = [ 2049 111 4000 4001 ];
  networking.firewall.allowedUDPPorts = [ 2049 111 4000 4001 ];
}

